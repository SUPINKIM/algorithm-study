### 프레임워크 없는 프론트엔드 개발

#### 자바스크립트 프레임워크 뜯어보기

### 6장 라우터

- 프로그래밍 방식으로 다른 뷰로 이동하도록 라우터에서 새로운 공개 메서드를 생성했다. 이 메서드는 새 프래그먼트르 가져와 location 객체에서 대체한다.

* 경로 매개변수

마지막으로 라우터에 경로 매개변수 읽기 기능을 추가한다. 경로 매개변수는 도메인 변수와 관련된 URL의 일부다. 예를 들어 `http://localhost:8080#/order/1` 에서 'order' 도메인 모델의 ID를 얻을 수 있따. 이 경우 1은 id라는 경로의 매개변수다.

매개변수로 경로를 생성할 때 이 양식은 일반적으로 http://localhost:8080#/user/:id와 같이 URL에 매개변수가 포함돼 있음을 나타낸다.
이 책의 예제는 사실상의 표준을 준수해 작성됐다.

먼저 리스트 6-9와 같이 인수를 허용하도록 구성 요소를 일부 수정한다. 이 인수는 경로 매개변수로 채워진다.

이제 경로 매개변수 관리를 위해 라우터 구현을 수정해야 한다. 이 구현은 정규 표현식(정규식이라고도 함)을 기반으로 한다. 정규 표현식에 친숙하지 않다면 특정 정규 표현식이 무엇인지 이해하는 데 유용한 도구인 Regex101(https://regex101.com)을 사용하는 것이 좋다.

먼저 addRoute 메서드의 첫 번째 인수로 사용되는 URL에서 매개변수 이름을 추출한다. 예를 들어 #list/:id/:anotherId에서 id와 anotherId를 가진 배열을 추출해야 한다.
(이를 수행하는 방법은 6-11에서 확인할 수 있다.)

프래그먼트에서 매개변수 이름을 추출하려면 정규식 `/:(\w+)/g`를 사용한다.
이 정규식은 :id 및 :anotherId와 매칭된다. 다음 스키마를 사용하면 정규식의 목적을 더 잘 이해할 수 있다.

> <b>:(\w+)</b>
>
> - :은 정확히 한 문자와 매칭한다.
> - ()은 캡처 그룹의 시작을 나타낸다.
> - \w는 [a-zA-Z0-9_]의 단축키로 모든 표준 문자와 매칭한다.
> - +는 하나 이상의 표준 문자를 허용함을 나타낸다.

이 정규식은 String 객체의 replace 함수와 함께 사용된다.
콜백은 정규식이 대상 String(예제의 경의 프래그먼트)과 매칭될 때마다 호출된다.
이 콜백의 두 번째 인수는 params 배열에 추가하는 매개변수의 이름이다.
그런 다음 다른 정규식 `([^\\/]+)` 으로 매칭이 바뀐다. 마지막으로 ^과 $ 사이에 새 프래그먼트를 래핑한다.

따라서 `#/list/:id/:anotherId` 프래그먼트를 addRoute 메서드에 인수로 전달하면 testRegExp 값이 `^#\/list\/([^\\/]+)\/([^\\/]+)$`가 되고, 이 경로가 location 객체의 현재 프래그먼트와 매칭되는 지 확인하는 데 사용한다.
